{% extends 'shop/base.html' %}
{% load static %}
{% load mathfilters %}
{% block 'block_link' %}
<link rel="stylesheet" href="{% static 'shop/' %}css/checkout.css">
<link rel="stylesheet" data-modern="true" href="https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/bundle.346c056188512638.css">
{% endblock %}

{% block body_block %}
<div id="checkout" class="checkout">
    <div class="first">
        <div class="address">
            <div class="delivery_address">
                <div class="delivery_address_text">
                    <div class="delivery_address_icon">
                        <svg height="16" viewBox="0 0 12 16" width="12" class="shopee-svg-icon icon-location-marker"><path d="M6 3.2c1.506 0 2.727 1.195 2.727 2.667 0 1.473-1.22 2.666-2.727 2.666S3.273 7.34 3.273 5.867C3.273 4.395 4.493 3.2 6 3.2zM0 6c0-3.315 2.686-6 6-6s6 2.685 6 6c0 2.498-1.964 5.742-6 9.933C1.613 11.743 0 8.498 0 6z" fill-rule="evenodd"></path></svg>
                    </div>
                    <h2>Địa chỉ nhận hàng</h2>
                </div>
            </div>
            <div class="info_delivery_address">
                <div>
                    <div class="info_delivery_address_default">
                        {{ request.user.phoneNumber }}
                        <div class="info_delivery_address_name_phone">{{ request.user.username }} (+84) {{user.phoneNumber}}</div>
                        <div class="info_delivery_address_address">{{user.address}}</div>
                        <div class="info_delivery_address_df">Mặc định</div>
                    </div>
                </div>
                <button class="btn_change_delivery_address">Thay đổi</button>
            </div>
        </div>
    </div>
    <div class="second">
        <div class="container_title">
            <div class="row_title">
                <div class="title price_quantity">
                    <h2 class="text_title">Sản phẩm</h2>
                </div>
                <div class="title title_null"></div>
                <div class="title">Đơn giá</div>
                <div class="title">Số lượng</div>
                <div class="title total_one_product">Thành tiền</div>
            </div>
        </div>
        <div>
            <div class="container_product">
                <div>
                    <div class="container_product_child">
                        <div class="container_product_head">
                            <div>
                                <div class="favourite">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="70" height="16" fill="none"><path fill="#F7941D" fill-rule="evenodd" d="M0 2C0 .9.9 0 2 0h66a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2z" clip-rule="evenodd"></path><g clip-path="url(#clip0)"><path fill="#fff" d="M8.7 13H7V8.7L5.6 6.3A828.9 828.9 0 004 4h2l2 3.3a1197.3 1197.3 0 002-3.3h1.6L8.7 8.7V13zm7.9-1.7h1.7c0 .3-.2.6-.5 1-.2.3-.5.5-1 .7l-.6.2h-.8c-.5 0-1 0-1.5-.2l-1-.8a4 4 0 01-.9-2.4c0-1 .3-1.9 1-2.6a3 3 0 012.4-1l.8.1a2.8 2.8 0 011.3.7l.4.6.3.8V10h-4.6l.2 1 .4.7.6.5.7.1c.4 0 .7 0 .9-.2l.2-.6v-.1zm0-2.3l-.1-1-.3-.3c0-.2-.1-.2-.2-.3l-.8-.2c-.3 0-.6.2-.9.5l-.3.5a4 4 0 00-.3.8h3zm-1.4-4.2l-.7.7h-1.4l1.5-2h1.1l1.5 2h-1.4l-.6-.7zm8.1 1.6H25V13h-1.7v-.5.1H23l-.7.5-.9.1-1-.1-.7-.4c-.3-.2-.4-.5-.6-.8l-.2-1.3V6.4h1.7v3.7c0 1 0 1.6.3 1.7.2.2.5.3.7.3h.4l.4-.2.3-.3.3-.5.2-1.4V6.4zM34.7 13a11.2 11.2 0 01-1.5.2 3.4 3.4 0 01-1.3-.2 2 2 0 01-.5-.3l-.3-.5-.2-.6V7.4h-1.2v-1h1.1V5h1.7v1.5h1.9v1h-2v3l.2 1.2.1.3.2.2h.3l.2.1c.2 0 .6 0 1.3-.3v1zm2.4 0h-1.7V3.5h1.7v3.4a3.7 3.7 0 01.2-.1 2.8 2.8 0 013.4 0l.4.4.2.7V13h-1.6V9.3 8.1l-.4-.6-.6-.2a1 1 0 00-.4.1 2 2 0 00-.4.2l-.3.3a3 3 0 00-.3.5l-.1.5-.1.9V13zm5.4-6.6H44V13h-1.6V6.4zm-.8-.9l1.8-2h1.8l-2.1 2h-1.5zm7.7 5.8H51v.5l-.4.5a2 2 0 01-.4.4l-.6.3-1.4.2c-.5 0-1 0-1.4-.2l-1-.7c-.3-.3-.5-.7-.6-1.2-.2-.4-.3-.9-.3-1.4 0-.5.1-1 .3-1.4a2.6 2.6 0 011.6-1.8c.4-.2.9-.3 1.4-.3.6 0 1 .1 1.5.3.4.1.7.4 1 .6l.2.5.1.5h-1.6c0-.3-.1-.5-.3-.6-.2-.2-.4-.3-.8-.3s-.8.2-1.2.6c-.3.4-.4 1-.4 2 0 .9.1 1.5.4 1.8.4.4.8.6 1.2.6h.5l.3-.2.2-.3v-.4zm4 1.7h-1.6V3.5h1.7v3.4a3.7 3.7 0 01.2-.1 2.8 2.8 0 013.4 0l.3.4.3.7V13h-1.6V9.3L56 8.1c-.1-.3-.2-.5-.4-.6l-.6-.2a1 1 0 00-.3.1 2 2 0 00-.4.2l-.3.3a3 3 0 00-.3.5l-.2.5V13z"></path></g><g clip-path="url(#clip1)"><path fill="#fff" d="M63 8.2h2.2v1.6H63V12h-1.6V9.8h-2.2V8.2h2.2V6H63v2.3z"></path></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h55v16H0z" transform="translate(4)"></path></clipPath><clipPath id="clip1"><path fill="#fff" d="M0 0h7v16H0z" transform="translate(59)"></path></clipPath></defs></svg>
                                </div>
                            </div>
                            <h3 class="store_name">Xưởng thời trang giá sỉ HCM</h3>
                            <button class="chat_now div-style">
                                <svg viewBox="0 0 16 16" class="shopee-svg-icon +Wv1h7"><g fill-rule="evenodd"><path d="M15 4a1 1 0 01.993.883L16 5v9.932a.5.5 0 01-.82.385l-2.061-1.718-8.199.001a1 1 0 01-.98-.8l-.016-.117-.108-1.284 8.058.001a2 2 0 001.976-1.692l.018-.155L14.293 4H15zm-2.48-4a1 1 0 011 1l-.003.077-.646 8.4a1 1 0 01-.997.923l-8.994-.001-2.06 1.718a.5.5 0 01-.233.108l-.087.007a.5.5 0 01-.492-.41L0 11.732V1a1 1 0 011-1h11.52zM3.646 4.246a.5.5 0 000 .708c.305.304.694.526 1.146.682A4.936 4.936 0 006.4 5.9c.464 0 1.02-.062 1.608-.264.452-.156.841-.378 1.146-.682a.5.5 0 10-.708-.708c-.185.186-.445.335-.764.444a4.004 4.004 0 01-2.564 0c-.319-.11-.579-.258-.764-.444a.5.5 0 00-.708 0z"></path></g></svg>
                                Chat ngay
                            </button>
                        </div>
                        <div class="container_product_detail">
                            {% for cart in carts %}
                                <div class="product_detail">
                                    <div class="product_image">
                                        <img src="{{cart.product.image.url}}">
                                    </div>
                                    <div class="product_name">
                                        <p>{{cart.product.name}}</p>
                                    </div>
                                    <div class="product_type">
                                        <p class="product_type_text">Loại: 
                                            {% for op in options %}
                                                {% if cart.product.option1 == op.id%}
                                                    {{op.value}} ,
                                                {% endif %}
                                                {% if cart.product.option2 == op.id%}
                                                    {{op.value}}
                                                {% endif %}
                                            {% endfor %}
                                        </p>
                                    </div>
                                    <div class="product_prict"><p>${{cart.product.priceOrg|floatformat}}</p></div>
                                    <div class="product_quantity"><p>{{cart.quantility}}</p></div>
                                    <div class="product_a_total product_a_total_null"><p>${{cart.product.priceOrg|mul:cart.quantility|floatformat}}</p></div>
                                </div>
                            {% endfor %}
                        </div>
                        <div class="container_product_voucher">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="three">
        <div class="pay_head">
            {% comment %} <span class="pay_title">Phương thức thanh toán</span> {% endcomment %}
            <div class="pay_head_child">
                <div class="pay_method pay_method_null">Phương thức thanh toán</div>
                <div class="pay_on_delivery">Thanh toán khi nhận hàng</div>
                <button class="pay_change">Thay đổi</button>
            </div>
        </div>
        <div class="pay_body">
            <div class="total_money">
                {% comment %} <div class="row">
                    <div class="left">
                        <h3>Tổng tiền hàng</h3>
                    </div>
                    <div class="right">
                        <div class="">$25.000</div>
                    </div>
                </div> {% endcomment %}
                <div class="left">
                    <h3 class="total_text">Tổng tiền hàng:</h3>
                    <h3 class="total_text">Phí vận chuyển:</h3>
                    <h3 class="total_text_pay">Tổng thanh toán:</h3>
                </div>
                <div class="right">
                    <div class="total_number">${{total_price|floatformat}}</div>
                    <div class="total_number">$25</div> 
                    <div class="total_number_pay"><span style="color:red, font-size:40px, font-weight: bold">$25</span></div> 
                </div>
                
            </div>
        </div>
        <div class="pay_footer">
            <div class="order_terms">
                Nhấn "Đặt hàng" đồng nghĩa với việc bạn đồng ý tuân theo <a href="https://help.shopee.vn/portal/article/77242" target="_blank" rel="noopener noreferrer">Điều khoản Shopee</a>
            </div>
            <button class="order-button order-button--primary order-button--large apLZEG">Đặt hàng</button>
        </div>
    </div>
</div>
{% endblock body_block %}